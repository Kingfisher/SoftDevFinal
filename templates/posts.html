<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Public posts</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">

    <!-- To push the page content below the navbar -->
    <style>
      body{ padding-top: 65px; }
      {% if username != False %}

      .navbar-default .navbar-nav > li > a:hover, .navbar-default .navbar-nav > li > a:focus {
      color: #000;  /*Sets the text hover color on navbar*/
      }

      .navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active >   
      a:hover, .navbar-default .navbar-nav > .active > a:focus {
      color: #000066; /*BACKGROUND color for active*/
      background-color: #CCE6FF /*lighter blue*/;
      }

      .navbar-default {
      background-color: #99CCFF /*light blue*/;
      border-color: #CCE6FF /*lighter blue*/;
      }

      .dropdown-menu > li > a:hover,
      .dropdown-menu > li > a:focus {
      color: #262626;
      text-decoration: none;
      background-color: #66CCFF;  /*change color of links in drop down here*/
      }

      .nav > li > a:hover,
      .nav > li > a:focus {
      text-decoration: none;
      background-color: silver; /*Change rollover cell color here*/
      }


      .navbar-default .navbar-nav > li > a {
      color: white; /*Change active text color here*/
      }
      {% endif %}
      .myclass {
      position: absolute;
      left: 30%;
      top: 50%;
      }
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container-fluid">
	<div class="navbar-header">
	  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
	    <span class="sr-only">Toggle navigation</span>
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	  </button>
	  <!-- Navbar Logo -->
	  <a class="navbar-brand" href=""><img style="max-width:100px; margin-top:-7px;" src="../static/patterns/placeholder.png" alt="logo"></a>
	</div>
        <div id="navbar" class="navbar-collapse collapse">
	  <ul class="nav navbar-nav">
            <li class="active">
	      <a href="{{ url_for('submit') }}">Submit a Post</a>
	    </li>
	    <li>
	      {% if username == 'a' %}
	      <form method="POST">
		<input type="hidden" name="id" value="100">
		<!-- Removes all posts -->
		<button class="btn btn-sm btn-danger" type="submit" name="b" value="deletePosts">Remove all Posts</button>
		<!-- Removes all users besides a the admin -->
		<button class="btn btn-sm btn-warning" type="submit" name="b" value="deleteUsers">Remove all Users</button>		
	      </form>
	      {% else %}
	      {% endif %}
	    </li>
	  </ul>
          <ul class="nav navbar-nav navbar-right">
            {% if not username %}
	    <li class="active"><a href="{{ url_for('login') }}">Log in</a></li>
	    <li> <a href=""> You are Anonymous </a></li>
	    {% else %}
	    <li class="active">
	      <a href="{{ url_for('logout') }}">Log out</a>
	    </li>
	    <li><a href="#">
		<font color="green"> Logged in as {{ username[0] }} </font>
	    </a></li>
	    {% endif %}
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      {% with messages = get_flashed_messages() %}
      {% if messages %}
      <div class="alert alert-info">
	{{messages[0]}}
      </div>
      {% endif %}
      {% endwith %}
      {% if posts|length == 0 %}
      <center>
	<b>
	  <div class="myclass">
	    <font size="5">
	      There are no posts! Be the first to submit one!
	    </font>
	  </div>
	</b>
      </center>
      {% else %}
      <div class="table-responsive">
	<table class="table table-hover table-striped table-bordered">
	  <tbody>
	    {% for post in posts %}
	    <tr>
	      <td>
	      {{post[1]}}
	      <br>
	      <font size=1>
		posted by {{post[0]}}
	      </font>
	      </td>
	    </tr>
	    {% endfor %}
	  </tbody>
	</table>
      </div>
      {% endif %}
    </div>
  </body>
</html>
